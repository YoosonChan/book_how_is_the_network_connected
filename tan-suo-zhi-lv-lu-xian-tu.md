# 探索之旅路线图

![路线图](.gitbook/assets/epub\_907755\_3.jfif)

**浏览器和Web服务器之间的交互**却很简单，概括如下：

1. 浏览器向Web服务器发送请求。
2. Web服务器根据请求向浏览器发送响应。

**我们需要的是一种能够将数字信息搬运到指定目的地的机制。**

这种机制是由操作系统中的网络控制软件，以及交换机、路由器等设备分工合作来实现的，它的基本思路是将数字信息分割成一个一个的小块，然后装入一些被称为**“包”（Packet）的容器**中来运送。

**包**的**头部**存有目的地等控制信息，通过许多交换机和路由器的接力，就可以根据控制信息对这些包进行分拣，然后将它们一步一步地搬运到目的地。无论是家庭和公司里的局域网，还是外面的互联网，它们_只是在规模上有所不同，基本的机制都是相同的。_

<mark style="background-color:blue;">**网络 = 搬运数字信息机制 + 网络应用程序（浏览器+Web服务器）**</mark>

### 环节

* **浏览器**：URL -> _生成_请求消息 -> 委托操作系统**网络控制器**发送消息 -> 服务器
* **协议栈**（网络控制软件） -> _信息打包_ -> **网卡**（负责以太网或无线网络通信的硬件） -> 转为**电信号** -> 网线 -> 网络
* ADSL+光纤到户（FTTH）-> \[局域网 -> ] 互联网
  * 包 -> **交换机** -> **路由器**（接入互联网） -> 互联网 -> **网络运营商** -> 目的地
* 路由器 -> **接入网**（互联网入口线路）-> 签约**网络运营商** -> **接入点**（Point of Presence, PoP）设备
  * 接入互联网**通信线路**：电话线、ISDN、ADSL、有线电视、光线、专线等。
  * _接入点的实体是一台专为运营商设计的路由器_，我们可以把它理解为离你家最近的邮局。从各个邮筒中收集来的信件会在邮局进行分拣，然后被送往全国甚至全世界。
  * 在骨干网中存在很多运营商和大量的路由器，这些路由器相互连接，组成一张巨大的网，而我们的网络包就在其中经过若干路由器的接力，最终被发送到目标Web服务器上。
* 骨干网 -> Web服务器局域网 -> 防火墙 -> 包检查 -> 缓存服务器（缓存网页可重复利用数据）
  * 在大型网站中，可能还会配备将消息分布到多台Web服务器上的负载均衡器，还有可能会使用通过分布在整个互联网中的缓存服务器来分发内容的服务。经过这些机制之后，网络包才会到达Web服务器。
* Web服务器 -> 解包 -> 还原 -> 请求信息 -> 协议栈 -> Web服务器程序 -> 分析请求消息含义 -> 响应消息 -> 客户端 -> 读取信息 -> 显示
